<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript"
        src="https://experience.adobe.com/solutions/CQ-assets-selectors/static-assets/resources/assets-selectors.js"></script>
    <script type="text/javascript" src="common.js"></script>
    <script type="text/javascript">
        function defaultPopupAuth() {
            setTimeout(() => {
                const assetSelectorProps = {
                    featureSet: ['advisor'],
                }
                // container element on which you want to render the AssetSelector/DestinationSelector component
                const container = document.getElementById('asset-selector');

                /// Use the PureJSSelectors in globals to render the AssetSelector/DestinationSelector component
                PureJSSelectors.renderAssetSelectorWithAuthFlow(container, assetSelectorProps, () => {
                    const assetSelectorDialog = document.getElementById('asset-selector-dialog');
                    assetSelectorDialog.showModal();
                });
            }, 5000);
        }

        const registeredTokenService = PureJSSelectors.registerAssetsSelectorsAuthService(imsProps);
    </script>
</head>

<body>
    <button onclick="defaultPopupAuth()">Async popup auth</button>

    <dialog id="asset-selector-dialog">
        <div id="asset-selector" style="height: calc(100vh - 80px); width: calc(100vw - 60px); margin: -20px;">
        </div>
    </dialog>
</body>

</html>